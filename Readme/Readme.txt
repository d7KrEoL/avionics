Система авионики от VirPiL (discord.gg/QSKkNhZrTh)
Установка:
1. Установить moonloader и sampfuncs*
2. Скопировать с заменой папку moonloader в папку с игрой
*!Проверьте версию клиента, на момент написания ReadMe, Sampfuncs есть только для версий клиента SAMP 0.3.7-R3 (!Не R5!) и SAMP 0.3DL!

Зависимости:
1. moonloader v026 и выше (скачать можно тут: https://www.blast.hk/moonloader/download.php)
2. sampfuncs
	Для 0.3.7-R3: https://www.blast.hk/threads/65247/
	Для 0.3DL: https://www.blast.hk/threads/138813/
3. Для работы sampfuncs нужна библиотека CLEO4 (скачать можно тут: https://cleo.li/download.html)
4. imgui (скачать можно тут: https://www.blast.hk/threads/19292/)

Открыть главное меню скрипта по умолчанию можно клавишей "4" (цифра 4 на клавиатуре), либо командами /swavionics /avionix

Команды:
/swavionics - Открыть меню скрипта
/avionix - Дублирующая команда, аналогично с /swavionics 
/swav - Дублирующая команда, аналогично с /swavionics
/setppm [номер поворотного пункта маршрута] - Установить текущий ППМ (из добавленных в базу, добавляются автоматически через систему целеуказания, /bcomp, либо /addppm)
/setwpt - Дублирующая команда, аналогично с /setppm
/swcam - Переход в контейнер целеуказания (камеру)
/swmag - (Для вертолётов) Достать/убрать крюк
/addwpt [X] [Y] [Z] - Добавить поворотный пункт маршрута по координатам
/addppm - Дублирующая команда, аналогично /addwpt
/clearwpt - Удалить все ППМ
/clearppm - Дублирующая команда, аналогично /clearwpt
/autopilot - Включить автопилот (самолёт будет автоматически лететь между ППМ, если невозможно достигнуть ППМ, то кружиться вокруг текущего)
/swapt - Дублирующая команда, аналогично /autopilot
/swapto - Отключить автопилот (можно отключить просто перехватив управление самолётом, не вводя команду)
/wptcam - Зафиксировать камеру на текущем ППМ (камера повернёт на координаты маршрутной точки)
/ppmcam - Дублирует /wptcam
/tarcam - Дублирует /wptcam
/tarwpt - Автоматически добавить ппм из текущей зафиксированной точки (куда смотрит камера в режиме Fixed)
/tarppm - Дублирует /tarwpt
/vehwpt - Добавить ППМ из текущего местоположения самолёта
/vehppm - Дублирует /vehwpt
/swamode [Номер режима] - Установить режим работы (0 - Навигация, 1 - БВБ 2 - ЗМЛ 3 - ДВБ)
/swam - Дублирует /swamode
/swazoom [Скорость] - Установить скорость приближения камеры /swcam на колесо мыши (по умолчанию 100)
/swaz - Дублирует /swzoom
/safp /ldfp - Загрузить план полёта из файла (ложить в папку\nresource/avionics/flightplan)
/savefp /svfp - Сохранить план полёта в файл (будет лежать в папке\nresource/avionics/flightplan)

Клавиши управления: "[" и "]", можно использовать для переключения между предыдущим и следующим ППМ соответственно
Клавишу "Backspace" можно использовать для сброса захвата цели
Клавиши "1" и "3" можно использовать для переключения режима авионики
Клавиша "4" открывает/закрывает главное меню



Расшифровка надписей на ИЛС - Режим пилотирования (проще посмотреть картинку в архиве-_-):
Крупным шрифтом, слева по центру - скорость;
Мелким шрифтом, слева от скорости - ускорение. Если в левом верхнем углу, то положительное, в левом нижнем - отрицательное;
Крупным шрифтом, по центру вверху - азимут;
Крупным шрифтом, справа по центру - высота, по барометрическому высотомеру (относительно уровня моря);
Мелким шрифтом, справа от высоты, с надписью rad - высота, по радиовысотомеру (над поверхностью);
Мелким шрифтом, левее, под высотой, рядом со стрелками (вверх/вниз) - вариометр (указатель вертикальной скорости);
Pitch - тангаж
Roll - крен
AFT - индикатор форсажного режима (если надпись есть на ИЛС, то форсаж включен);
GEAR - индикатор выпуска шасси (если надпись есть на ИЛС, то шасси выпущены)*;
Autopilot - индикатор состояния автопилота (если надпись есть на ИЛС, то автопилот включен);
WPT Номер выбранного ППМ [Координата X; Координата Y; Координата Z] - (Waypoint) Индикация текущего пункта маршрута;
DST - (Distance) Дистанция до цели, в метрах;
TOT - (Time On Target) Время подлёта к ППМ, в секундах, при полёте строго на него;
STALL! - Индикатор сваливания. Чтобы выйти из режима необходимо набрать скорость.

(Круг с тремя линиями - слева, сверху, справа от него) - вектор скорости (куда летит самолёт);
Символ, похожий на W, в центре экрана - центр ИЛС;
Прямыая линия возле W, которая поворачиваются влево-вправо - указатель крена;
Прямые горизонтальные линии, которые двигаются вверх-вниз - указатели тангажа;
Сплошные - тангаж положительный, пунктирные - тангаж отрицательный.

Цветовая индикация:
Красная левая часть экрана - предупреждение об опасных скоростных параметрах полёта;
Красная правая часть экрана - предупреждение об опасных высотных параметрах полёта.

Речевой информатор:
[РИТА] [BETTY] [Расшифровка]
[Высота опасная] [Altitude] [Полёт ниже 20 метров, оповещение]
[Управляй вручную] [---] [Оповещение об отключении автопилота]
[Переведи в набор] [Pull Up] [Большая скорость снижения, предупреждение об опасности]
[Увеличь обороты] [] [Сваливание, предупреждение об опасности]
[Ракета (направление)] [...] [Предупреждение о пуске, необходимо принять контрмеры]
[Отказ систем, смотри экран] [Warning/-.-.] [Высокий уровень повреждений, необходим ремонт, возможен выход из строя некоторых систем самолёта]
[Катапультируйся] [Engine fire left, engine fire right, APU fire] [Критический уровень повреждений, рекомендуется покинуть борт]



Расшифровка надписей - камера контейнера целейказания:
Часть индикации, описанная выше - аналогично режиму пилотирования;

Квадрат в центре экрана - направление обзора, при фиксации цели точка будет внутри квадрата

Левая сторона экрана:
Camera mode - индикация, что игрок находится в режиме камеры
Zoom - Степень увеличения (по умолчанию 0)
Unfixed camera / Fixed camera - режим работы камеры (unfixed - ручной режим, fixed - автоматическое слежение за целью)
[X; Y] / [X; Y; Z] - Координаты камеры (для unfixed - повороты по X, Y относительно направления движения самолёта, для fixed - глобальные координаты точки наблюдения)
Channel: Visual / IR - Канал работы камеры (визуальный / инфракрасный)

Правая сторона экрана:
аналогично с режимом пилотирования



Меню /swavionics:
Все настройки сбрасываются при перезаходе в игру.
1. Режим (День/Ночь) - меняет цвет сетки на более яркий днём и более тусклый ночью;
2. Изменить цвет сетки - задать цвет сетки вручную (возможны вылеты);
3. Состояние скрипта (Вкл/Выкл) - возможность отключения скрипта. Включается так же через меню;
4. Автокатапультирование (Вкл/Выкл) - персонаж автоматически катапультируется из самолёта при большом уровне повреждений (парашют не выдаётся, нужно крафтить заранее);
5. Радар (Выкл/Воздух-Воздух/Воздух-Земля) - Отображать воздушную, либо наземную технику в зоне видимости (не видит сквозь стены, некоторый мелкий транспорт так же не отображает);
6. HUD (Вкл/Выкл) - Возможность отключения сетки по тангажу и крену. Индикация основных параметров сохраняется;
7. Автосброс ЛТЦ (Вкл/Выкл) - Автоматический отброс ловушек на сервере SAMP WARS, при обнаружении угрозы (возможны ложные срабатывания).

Принцип работы и ТТХ контейнера целеуказания /swcam:
-Предельные углы вращения горизонтального круга: -90/+90 град;
-Предельные углы вращения вертикального круга: -90/0 град;
-Максимальное увеличение камеры: 60 ед;
-Возможность работы камеры в визуальном и инфракрасном каналах;
-Возможность фиксации цели визуально, либо по заданным координатам (ППМ).
Принцип работы:
Первоначально самолёт находится в режиме пилотирования (стандартная камера, стандартная индикация на ИЛС);
Для перехода в режим обзора и обратно необходимо ввести команду /swcam в чат;
При переходе из режима пилотирования в режим обзора камера переместится в нижнюю часть самолёта, индикация изменится;
Для вращения камеры по всем осям можно использовать мышь, для приближения - колесо мыши;
Переключения между визуальным и инфракрасным каналами камеры производится правой клавишей мыши (ПКМ);
Фиксация камеры на точке поверхности, куда на данный момент смотрит прицел производится левой клавишей мыши (ЛКМ);
Фиксация на координатах текущего ППМ производится командой /ppmcam;
Сохранение зафиксированной вручную точки как ППМ производится командой /tarppm;
Снятие фиксации может производится повторным нажатием ЛКМ;
Для принудительного снятия фиксации с точки, когда не работает основной способ, можно использовать среднюю клавишу мыши (нажать на колесо).

Принцип работы и ТТХ автопилота:
-Работает только в режиме навигации (/swam 0)
-Летит к ППМ по наиболее короткой траектории, если нет необходимости огибать препятствия;
-При обнаружении препятствий пытается самостоятельно их облететь;
-Круизный эшелон берётся по высоте ППМ. Если же ППМ находится близко к уровню земли, то автопилот будет вести самолёт на минимально безопасной высоте, с учётом препятствий;
-Полёт производится на максимальных оборотах двигателя, использование форсажа задаёт пилот вручную (включив, либо отключив его);
-При достижении ППМ автоматически переходит к следующей точке маршрута по порядку, если точки закончились, то летит к 1й;
-Если достигнуть ППМ невозможно из-за препятствий, либо по другим причинам, самолёт будет кружить над текущим ППМ, пока пилот вручную его не сменит (на клавиши [ или ]);
-Для штатного отключения автопилота можно использовать команду /swapto;
-Для экстренного отключения автопилота достаточно вмешаться в управление.
!Автопилот не является совершенной системой, возможны ошибки в работе при некоторых условиях, пилоту необходимо контроллировать обстановку в воздухе независимо от режима полёта!

Принцип работы системы предупреждения об угрозе:
-Обнаруживает ракеты в зоне видимости;
-Определяет направление угрозы (откуда летит);
-Отмечает на экране угрозу маркой цели красного цвета (на самой угрозе и на 180 градусов от неё, если ракета летит сзади);
-Отмечает угрозу на мини-карте (радаре) маркой "!М!";
-Отправляет звуковое оповещение об угрозе;
-Периодически отбрасывает ЛТЦ, если включен автосброс ложных тепловых целей.

Режимы работы авионики:
Навигация (НАВ/NAV) - предназначен для выполнения полётов, в том числе маршрутных, без применения вооружения. 
!Автопилот доступен только в режиме навигации!
Для включения режима навигации необходимо ввести команду /swam 0, либо переключиться на данный режим в меню /swavionics.

Ближний воздушный бой (БВБ/VRF) - предназначен для ведения воздушного боя в условиях визуальной видимости противника.
В данном режиме подключается нашлемная система целеуказания, позволяющая бортовому комплексу летательного аппарата (ЛА) захватить воздушную цель, находящуюся ближе всего к центру зоны видимости (центру экрана). Для сброса захвата с текущей цели необходимо нажать клавишу Backspace.
После взятия цели в захват, бортовой комплекс будет отслеживать параметры целевого ЛА и выводить их пилоту.
Захват цели сбросится, если была нажата горячая клавиша сброса захвата (Backspace), если цель скрылась за препятствием, мешающим радару ЛА увидеть данную цель, либо если ЛА противника улетел из зоны отрисовки транспортных средств.
После сброса захвата цель может быть заново взята в захват, при возврате в зону видимости.
Отображение информации о цели производится (рис. 4-6):
	-На ИЛС, возле основных параметров полёта (над скоростью, над и под курсом, над высотой полёта в системе ISA)
	-На блоке информации о цели
	-Непосредственно возле цели на экране
	-В точках, соответствующих конечной вектора скорости и вектора продольной оси
	-На мини-карте (радаре), в виде текстовых индикаторов (Название ЛА [Высота], -[v]- для вектора скорости, -[w]- для вектора продольной оси)
Для захвата цели необходимо:
	1. Перейти в режим БВБ командой /swam 1, либо через меню /swavionics (в версиях до 0.1.2 данный режим активен по умолчанию);
	2. Навести камеру таким образом чтобы интересующий летательный аппарат был как можно ближе к центру экрана;
	3. Проконтроллировать успешный захват нужной цели. Если в захват взята не та цель (при плохой видимости это можно отследить по радару), навести камеру таким образом чтобы нужный ЛА был ближе всех к центру экрана и сбросить захват с текущей цели клавишей Backspace
	4. Для захвата новой цели можно повторить процедуру, описанную в п. 3

Дальный воздушный бой SAMP WARS (ДВБ/LRF) - предназначен для ведения  воздушного боя дальних дистанций. В реалиях игры SAMP такой вид воздушного боя возможен только на сервере SAMP WARS, либо других серверах, реализующих дальнее обнаружение целей радаром.
В данном режиме авионика получает информацию о цели с серверного радара, обрабатывает её и выводит марку цели на координаты приблизительного расположения данной цели.
!Данный режим напрямую зависит от передаваемой сервером игроку информации. Администрация сервера может отключить передачу маркеров для тех игроков, местоположение которых вы не должны знать, соответственно читом данная функция являться не может по определению!
Для всех серверов, кроме SAMP WARS:
При получении от сервера информации о цели (маркере игрока), бортовой комплекс будет автоматически отрисовывать те цели, дистанция до которых составляет от 400 до 1000 метров. Цели ближе в данном режиме увидеть невозможно, для этого используйте профильный режим (БВБ/ЗМЛ).
Для отображения целей в режиме ДВБ необходимо:
    Перейти в режим ДВБ командой /swam 3, либо через меню /swavionics;
    Маркеры целей будут обозначены стандартной маркой (Ромб) ярко-зелёного цвета, с обозначением дистанции до цели под маркой
Для SAMP WARS:
Цель будет находиться на сопровождении, при сокращении дистанции до зоны видимого обнаружения самолёт автоматически перейдёт в режим ближнего воздушного боя, если камера смотрит в направлении на цель, то самолёт автоматически возьмётся на сопровождение в ближнем режиме
Для захвата цели необходимо:
    Перейти в режим ДВБ командой /swam 3, либо через меню /swavionics;
    ПОСЛЕ переключения в режим ДВБ взять цель в захват нажатием клавиши "X(Ч)"
    Для сброса захвата необходимо снять серверный захват с цели, повторным нажатием клавиши "X(Ч)"
    После сближения, в случае успешного поражения цели, заново включить режим ДВБ командой /swam 3

Режим воздух-земля (ЗМЛ) - предназначен для поиска и поражения наземных целей
В данном режиме авионика отображает все видимые радаром наземные цели, баллистический вычислитель для бомб, если он активирован.
В баллистическом вычислителе отрисовывается траектория полёта бомбы и приблизительная точка, куда бомба попадёт. Части траектории, отрисовываемые зелёным цветом - не находятся за какими-либо препятствиями. Части траектории, отрисовываемые серым цветом - находятся за каким-либо препятствием

Посадка (ПОС/LND) - предназначен для построения стабилизированного захода на любую полосу в GTASA, при любых погодных условиях. 
На данный момент режим не реализован, планируется добавить в последующих версиях скрипта



по всем вопросам писать в вк: vk.com/d7kreol
